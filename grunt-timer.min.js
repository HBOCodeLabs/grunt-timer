/*!
    grunt-timer (v0.0.7) 03-11-2013
    (c) Lee Crossley <leee@hotmail.co.uk> (http://ilee.co.uk/)
*/
var duration=require("duration"),colour=require("bash-color");exports=module.exports=function(){var a,b,c,d,e={},f=0,g=function(){var b=new duration(c).milliseconds;b>2&&(a.log.writeln(colour.purple("Task '"+d+"' took "+b+"ms")),i(b))},h=function(){a.log.writeln(colour.purple("All tasks took "+f+"ms",!0))},i=function(a){f+=a};return e.init=function(e){a=e,b=a.util.hooker,c=new Date,f=0,b.hook(a.log,"header",function(){d||(d=a.task.current.nameArgs),d!==a.task.current.nameArgs&&(g(),d=a.task.current.nameArgs,c=new Date)}),process.on("exit",function(){g(),h(),b.unhook(a.log,"header")})},e}();